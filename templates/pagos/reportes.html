{% extends 'base.html' %}

{% block title %}Reportes de Pagos - FITTECH{% endblock %}

{% block content %}
<div class="card">
    <h1 style="font-size: 2rem; color: var(--dark-color); margin-bottom: 2rem; font-weight: bold;">Reportes de Pagos</h1>

    <!-- Estadísticas Generales -->
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1.5rem; margin-bottom: 2rem;">
        <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 1.5rem; border-radius: 0.5rem; color: white;">
            <h3 style="font-size: 0.875rem; margin-bottom: 0.5rem; font-weight: 700;">Total Pagos Validados</h3>
            <p style="font-size: 2rem; font-weight: bold;">{{ estadisticas.total_pagos }}</p>
        </div>

        <div style="background: linear-gradient(135deg, #10b981 0%, #059669 100%); padding: 1.5rem; border-radius: 0.5rem; color: white;">
            <h3 style="font-size: 0.875rem; margin-bottom: 0.5rem; font-weight: 700;">Total Ingresos</h3>
            <p style="font-size: 2rem; font-weight: bold;">${{ estadisticas.total_ingresos|floatformat:0 }}</p>
        </div>

        <div style="background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%); padding: 1.5rem; border-radius: 0.5rem; color: white;">
            <h3 style="font-size: 0.875rem; margin-bottom: 0.5rem; font-weight: 700;">Pagos Pendientes</h3>
            <p style="font-size: 2rem; font-weight: bold;">{{ estadisticas.pagos_pendientes }}</p>
        </div>

        <div style="background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%); padding: 1.5rem; border-radius: 0.5rem; color: white;">
            <h3 style="font-size: 0.875rem; margin-bottom: 0.5rem; font-weight: 700;">Pagos Hoy</h3>
            <p style="font-size: 2rem; font-weight: bold;">{{ estadisticas.pagos_hoy }}</p>
        </div>

        <div style="background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%); padding: 1.5rem; border-radius: 0.5rem; color: white;">
            <h3 style="font-size: 0.875rem; margin-bottom: 0.5rem; font-weight: 700;">Ingresos Hoy</h3>
            <p style="font-size: 2rem; font-weight: bold;">${{ estadisticas.ingresos_hoy|floatformat:0 }}</p>
        </div>

        <div style="background: linear-gradient(135deg, #ec4899 0%, #db2777 100%); padding: 1.5rem; border-radius: 0.5rem; color: white;">
            <h3 style="font-size: 0.875rem; margin-bottom: 0.5rem; font-weight: 700;">Ingresos del Mes</h3>
            <p style="font-size: 2rem; font-weight: bold;">${{ estadisticas.ingresos_mes|floatformat:0 }}</p>
        </div>
    </div>

    <!-- Pagos por Método -->
    <div class="card" style="background: var(--light-color); margin-bottom: 2rem;">
        <h2 style="font-size: 1.5rem; color: var(--dark-color); margin-bottom: 1rem; font-weight: 700;">Pagos por Método de Pago</h2>
        {% if estadisticas.pagos_por_metodo %}
        <table class="table">
            <thead>
                <tr>
                    <th>Método de Pago</th>
                    <th>Cantidad</th>
                    <th>Total Recaudado</th>
                </tr>
            </thead>
            <tbody>
                {% for metodo in estadisticas.pagos_por_metodo %}
                <tr>
                    <td><strong>{{ metodo.metodo_pago|title }}</strong></td>
                    <td>{{ metodo.total }}</td>
                    <td>${{ metodo.monto_total|floatformat:0 }} COP</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
        {% else %}
        <p style="text-align: center; padding: 2rem; font-weight: 600;">No hay datos disponibles</p>
        {% endif %}
    </div>
</div>
{% endblock %}
